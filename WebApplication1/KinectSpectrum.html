<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Kinetic Spectrum</title>

    <!--Javascript libraries to import -->
    <!--Dojo toolkit -->
    <script "text/javascript" src="js/libraries/dojo/dojo/dojo.js" data-dojo-config="async: true, parseOnLoad: true, gfxRenderer:'svg,silverlight,vml',
    debugAtAllCosts: true, isDebug: true, mblThemeFiles: ['base','Carousel','PageIndicator'], locale: '${org.springframework.web.servlet.support.RequestContextUtils.getLocale(request)}',  paths: {'kui': '/js/kui', 'threejs': '/js/libraries/threejs'} "></script>
    <!-- Dijit- Dojo toolkit UI library -->
    <script type="text/javascript" src="js/libraries/dojo/dijit/dijit.js" data-dojo-config="async: true, parseOnLoad: true, isDebug: true,  debugAtAllCosts: true ,
    gfxRenderer:'svg, silverlight,vml' , paths: {'kui': '/js/kui'}"></script>
     
    <!-- CSS links -->
    <!-- Dojo dijit tundra themes -->
    <link rel="stylesheet" href="js/libraries/dojo/dijit/themes/tundra/tundra.css" media="screen"/> 

</head>   
<body class="tundra">

<div id="mainContainer" style="height:100%;width:100%;">    

</div>

</body>         
</html>     

<script id=" ">

    require(["dijit/registry",
       "dijit/layout/BorderContainer",    
       "dijit/layout/ContentPane",
       "dojox/layout/ContentPane",
       "dojo/window",
       "kui/DesignMenu/DesignMenu",
       "kui/ModelMenu/ModelMenu",
       "kui/ModelView/ModelView",
       "dojo/on",
       "kui/util/CommonHTML",
       "dojo/dom-construct"
    ],
           function (registry, BorderContainer, ContentPane, ContentPaneX, window, DesignMenu, ModelMenu, ModelView, on, html, domConstruct) {

               var windowHeight = window.getBox().h - 20;

               /*The main border container for the entire EOS*/   
               var mainContainer = new BorderContainer({
                   design: "headline",
                   liveSplitters: false,
                   gutters: false,
                   style:"height:"+ windowHeight+ "px;width:100%;"    
               }, "mainContainer");

             

               var centerContainer = new ContentPaneX({
                   region: "center",
                   id: "centerContainer",
                   style: "width:90%;" +
                          "height:95%;" +
                          "background-color:black;"+
                          "overflow: hidden;",
                   executeScripts: true
               });
               /*The center content pane to the bottom content pane*/
               mainContainer.addChild(centerContainer);

               /*Create and place the model view content pane into center container*/
               var modelView = new ModelView();
               centerContainer.set('content', modelView.domNode);
                

               dojo.connect(modelView, 'onShow', dojo.hitch(modelView, modelView.displayModel, "/js/kui/3DModels/GeodesicDome.js")); 


               /*Left container*/
               var leftContainer = new ContentPane({
                   splitter: false,
                   region: "left",
                   id: "leftContainer",
                   minSize: ".1",
                   style: "width:15%;" +
                          "height:100%;" 
               });

               mainContainer.addChild(leftContainer);
            
               var leftDiv = html.createDiv("height:100%;width:100%;background-color:black;overflow:hidden;");
               var innerTopDiv = html.createDiv("height:10%;width:100%;background-color:black;");
               var innerBottomDiv = html.createDiv("height:10%;width:100%;background-color:black;");

               //Create the left design menu
               var designMenu = new DesignMenu(null, null,  modelView);
              
               designMenu.createMenu();

               domConstruct.place(innerTopDiv, leftDiv);
               domConstruct.place(designMenu.domNode, leftDiv);
               domConstruct.place(innerBottomDiv, leftDiv);

               leftContainer.set('content', leftDiv);

               mainContainer.startup();
           
           });


</script>
